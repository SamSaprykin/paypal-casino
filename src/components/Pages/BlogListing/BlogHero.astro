---
import { Calendar, User, ArrowRight } from "@lucide/astro";
import CustomButton from "../../../components/Atoms/Button.astro"; // adjust if needed
import { slugify } from "../../../lib/helpers";
import { addHttps } from "../../../lib/helpers";
import { format } from "date-fns";
import { Image } from "astro:assets";

const { featuredPost } = Astro.props;
const readTime = Math.ceil(featuredPost.body.length / 200);
---

<div class="relative bg-gradient-to-br from-yellow-50 via-white to-yellow-100 py-16 px-4 sm:px-6 lg:px-8">
  <div class="max-w-7xl mx-auto mt-16 lg:mt-24">
    <div class="grid lg:grid-cols-2 gap-8 lg:gap-12 items-center">
      <!-- Content Section -->
      <div class="order-2 lg:order-1 space-y-6">
        <!-- Category Badge -->
        <div class="inline-flex items-center">
          <span class="bg-yellow-700 text-white text-sm px-4 py-2 rounded-full shadow-md font-semibold uppercase tracking-wide">
            {featuredPost.category}
          </span>
        </div>

        <!-- Title -->
        <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-yellow-800 leading-tight">
          {featuredPost.title}
        </h1>

        <!-- Description -->
        <p class="text-lg text-gray-700 leading-relaxed max-w-2xl">
          {featuredPost.description}
        </p>

        <!-- Meta Information -->
        <div class="flex flex-wrap items-center gap-6 text-sm text-gray-600">
          <a
            href="/author/seamus-oconnor"
            class="flex items-center gap-2 group hover:cursor-pointer transition-all duration-300"
          >
            <User class="w-4 h-4 text-yellow-600 group-hover:text-yellow-800" />
            <span class="font-medium text-yellow-700 group-hover:text-yellow-800">
              {featuredPost.author?.fields?.name}
            </span>
          </a>
          <div class="flex items-center gap-2">
            <Calendar class="w-4 h-4 text-yellow-600" />
            <span>{format(new Date(featuredPost.created), "MMMM d, yyyy")}</span>
          </div>
          <div class="bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full font-medium">
            {readTime} min read
          </div>
        </div>

        <!-- CTA Button -->
        <div class="pt-3">
          <CustomButton
            variant="primary"
            size="lg"
            className="group"
            buttonType="internal-link"
            href={`/blog/${slugify(featuredPost?.category)}/${featuredPost?.slug}`}
          
          
          >
            <span class="cta-text text-md">Read Full Article</span>
            <ArrowRight class="w-4 h-4 ml-1 transform transition-all duration-300 group-hover:translate-x-1" />
          </CustomButton>
        </div>
      </div>

      <!-- Image Section -->
      <div class="order-1 lg:order-2">
        <div class="relative">
          <!-- Main Image Container -->
          <div class="relative w-full h-80 sm:h-96 lg:h-[500px] rounded-2xl overflow-hidden shadow-2xl border-4 border-white group">
            <Image
              src={addHttps(featuredPost?.featuredImage?.fields?.file?.url) || "/placeholder.svg"}
              alt={featuredPost?.featuredImage?.fields?.title || featuredPost?.title || ""}
              class="object-cover w-full h-full transition-transform duration-700"
              width={800}
              height={450}
              format="webp"
            />

            <!-- Overlay Gradient -->
            <div class="absolute inset-0 bg-gradient-to-t from-black/20 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          </div>

          <!-- Decorative Elements -->
          <div class="absolute -top-4 -right-4 w-24 h-24 bg-yellow-200 rounded-full opacity-20 blur-xl"></div>
          <div class="absolute -bottom-6 -left-6 w-32 h-32 bg-yellow-300 rounded-full opacity-15 blur-2xl"></div>
        </div>
      </div>
    </div>
  </div>
</div>
