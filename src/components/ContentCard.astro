---
export interface Props {
  title: string;
  description: string;
  href: string;
  image?: string;
  imageAlt?: string;
  date?: string;
  author?: string;
  variant?: 'default' | 'featured' | 'minimal';
}

const { 
  title, 
  description, 
  href, 
  image, 
  imageAlt, 
  date, 
  author,
  variant = 'default'
} = Astro.props;

const cardClasses = {
  default: 'card-hover',
  featured: 'card-hover md:col-span-2',
  minimal: 'card-hover border-0 shadow-none hover:shadow-sm'
};

const titleClasses = {
  default: 'text-xl font-semibold',
  featured: 'text-2xl lg:text-3xl font-bold',
  minimal: 'text-lg font-semibold'
};
---

<article class={`group ${cardClasses[variant]}`}>
  <!-- Image -->
  {image && (
    <div class={`relative overflow-hidden ${variant === 'featured' ? 'aspect-[16/9]' : 'aspect-[4/3]'}`}>
      <img
        src={image}
        alt={imageAlt || title}
        class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"
        loading="lazy"
      />
      
      <!-- Overlay -->
      <div class="absolute inset-0 bg-gradient-to-t from-black/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      

      
    </div>
  )}

  <!-- Content -->
  <div class={`${variant === 'minimal' ? 'p-4' : 'p-6'} ${variant === 'featured' ? 'lg:p-8' : ''}`}>
    <!-- Meta information -->
    {(date || author) && (
      <div class="flex items-center space-x-4 text-sm text-secondary-500 mb-3">
        {date && (
          <time datetime={date}>
            {new Date(date).toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}
          </time>
        )}
        
        {author && date && <span>â€¢</span>}
        
        {author && <span>{author}</span>}
      </div>
    )}

    <!-- Title -->
    <h3 class={`text-secondary-900 mb-3 group-hover:text-primary-600 transition-colors ${titleClasses[variant]}`}>
      <a href={href} class="stretched-link">
        {title}
      </a>
    </h3>

    <!-- Description -->
    <p class={`text-secondary-600 leading-relaxed ${variant === 'featured' ? 'text-lg' : ''}`}>
      {description}
    </p>



    <!-- Read more link -->
    <div class="mt-4">
      <span class="inline-flex items-center text-sm font-medium text-primary-600 group-hover:text-primary-700">
        Learn more
        <svg class="ml-1 w-4 h-4 transition-transform group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
        </svg>
      </span>
    </div>
  </div>
</article>

<style>
  .stretched-link::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1;
    content: "";
  }
</style>

