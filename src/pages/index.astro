---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Layout/Header.astro';
import Footer from '../components/Layout/Footer.astro';


import {getWebsitePageBySlug   } from '../lib/contentful';

import Hero from "../components/Pages/Hero.astro";
import TopCasinoByYear from "../components/Pages/TopCasinoByYear.astro";
import FromTheBlog from "../components/Pages/FromTheBlog.astro";

import GameOfTheMonthVertical from "../components/Pages/GameOfTheMonthVertical.astro";

import { ContentComponent } from "../components/Pages/ContentComponent";
import { FaqSection } from "../components/Pages/FAQComponent";
import HowToBegin from "../components/Pages/HowTo.astro";




const homePage = await getWebsitePageBySlug('/');
const meta = {
  title: homePage.seoComponent.fields.seoTitle || "",
  description: homePage.seoComponent.fields.seoDescription || "",
  type: 'website' as const,
};



const components = homePage.components;


---

<BaseLayout meta={meta}>
  <Header />

  {components.map((component) => {
    const type = component.sys.contentType.sys.id;

    switch (type) {
      case "heroDefaultWithCasinoCards":
        return <Hero title={component.fields.title} description={component.fields.description} casinos={component.fields.casinos} />;
        case "casinoList":
          return <TopCasinoByYear copyBefore={component.fields.copyBefore} casinoList={component.fields.casinoList} anchorTitle={component.fields.anchorTitle} key={component.sys.id} />;

        case "gameOfTheMonth":
            return <GameOfTheMonthVertical title={component.fields.title} gameDescription={component.fields.gameDescription} gameName={component.fields.gameName} casinoLinks={component.fields.casinoLinks} image={component.fields.image} link={component.fields.link} key={component.sys.id} />;

        case "featuredArticles":
          return <FromTheBlog title={component.fields.title} relatedArticles={component.fields.relatedArticles} key={component.sys.id} />;

        case "contentComponent":
          return <ContentComponent  content={component.fields.body} firstBonus={component.fields.firstBonus} spaceTop={12} spaceBottom={12}   />;

        case "howTo":
            return <HowToBegin title={component.fields.title} howToItems={component.fields.howToItems} key={component.sys.id} />;

        case "faqComponent":
          return <FaqSection faq={component} client:only="react"   />;

        default:
        return null;
    }
  })}
  <Footer />
</BaseLayout>


